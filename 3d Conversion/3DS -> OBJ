#!/usr/bin/env python3
import sys, os, subprocess

def convert(files):
    for f in files:
        if f.lower().endswith(".3ds"):
            out = os.path.splitext(f)[0] + ".obj"
            try:
                subprocess.run(["assimp", "export", f, out, "-f", "obj"], check=True)
                print(f"Converted {f} to {out}")
            except subprocess.CalledProcessError:
                print(f"Failed to convert {f}")
        else:
            print(f"Skipped non-3DS file {f}")

if __name__ == "__main__":
    if len(sys.argv) < 2:
        print(f"Usage: {sys.argv[0]} <files...>")
        sys.exit(1)
    convert(sys.argv[1:])
